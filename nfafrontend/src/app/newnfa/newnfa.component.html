<form [formGroup]="nfaform" (ngSubmit) = "onSubmit()">

  <p class="sm">Factors</p>
  <select formControlName ="factor" name="factor" required [(ngModel)]='selectedFactor'>
    <option *ngFor="let fac of nfaFactors" [ngValue]="fac">{{fac.nfa_id}}. {{fac.factor}}</option>
  </select> <br/> <br/>

  <div *ngIf="factorHasCriteria()">
    <p class="sm" id="criteriaSelect">Criteria</p>
    <select formControlName ="criteria" name="criteria" required [(ngModel)]='selectedCriteria'>
      <option *ngFor="let crit of selectedFactor.criteriaList" [ngValue]="crit">{{selectedFactor.nfa_id}}.{{crit.criteriaNumber}} {{crit.criteria}}</option>
    </select> <br/> <br/>
  </div>
  <div *ngIf="criteriaHasMetric()">
    <p class="sm">Metric</p>
    <select formControlName ="metric" name="metric" required [(ngModel)]='selectedMetric'>
      <option *ngFor="let met of selectedCriteria.metricList" [ngValue]="met">{{selectedFactor.nfa_id}}.{{selectedCriteria.criteriaNumber}}.{{met.metricNumber}} {{met.bezeichnung}}</option>
    </select> <br/> <br/>
  </div>

  <p class="sm">Type</p>
  <select formControlName ="nfa_type"  name="nfa_type">
    <option value="nfa_type_1">Type 1</option>
    <option value="nfa_type_2">Type 2</option>
    <!--<option value="nfa_type_3">Type 3</option>-->
  </select> <br/> <br/>

  <app-nfatemplate *ngIf="nfaform.get('nfa_type').value==='nfa_type_1'"></app-nfatemplate>
  <br/><br/>
  <input type="submit" class="button" value="Send">
</form>

